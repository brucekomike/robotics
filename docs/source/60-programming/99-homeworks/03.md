# 第三次作业
推导两自由度串联机器人的刚体动力学方程
1. 系统描述与坐标系建立描述
2. 包含位置、速度、加速度、刚体动力学分析
（详细推导过程）
3. 阐述所建立的刚体动力学方程可用于哪些方面的研究

## 1
### 两自由度串联机器人的系统描述与坐标系建立

#### 系统描述

两自由度串联机器人通常由两个旋转关节组成，类似于人的手臂结构。每个关节通过电机驱动，可以旋转一定角度来改变机器人的末端执行器位置。

#### 坐标系建立

1. **基坐标系 $ \{O_0\} $**:
   - 原点位于机器人底座。
   - $ x_0 $ 轴沿机器人底座水平延伸。
   - $ y_0 $ 轴垂直向上。

2. **第一个关节坐标系 $ \{O_1\} $**:
   - 原点位于第一个关节的旋转轴。
   - $ x_1 $ 轴与第一个连杆重合。
   - $ y_1 $ 轴垂直于 $ x_1 $ 轴。

3. **第二个关节坐标系 $ \{O_2\} $**:
   - 原点位于第二个关节的旋转轴。
   - $ x_2 $ 轴与第二个连杆重合。
   - $ y_2 $ 轴垂直于 $ x_2 $ 轴。

#### 关节参数

- **关节角度**:
  - $ \theta_1 $: 第一个关节的旋转角度。
  - $ \theta_2 $: 第二个关节的旋转角度。

- **连杆长度**:
  - $ L_1 $: 第一个连杆的长度。
  - $ L_2 $: 第二个连杆的长度。

#### 位置描述

末端执行器的位置可以通过两个关节角度和连杆长度来表示：

$$
\begin{align*}
x &= L_1 \cdot \cos(\theta_1) + L_2 \cdot \cos(\theta_1 + \theta_2) \\
y &= L_1 \cdot \sin(\theta_1) + L_2 \cdot \sin(\theta_1 + \theta_2)
\end{align*}
$$

这种坐标系和参数定义为后续的速度、加速度和动力学分析提供了基础。接下来，我们将详细推导速度和加速度。

## 2
### 位置、速度、加速度及刚体动力学分析

#### 位置描述

末端执行器的位置由关节角度和连杆长度决定：

$$
\begin{align*}
x_e &= L_1 \cdot \cos(\theta_1) + L_2 \cdot \cos(\theta_1 + \theta_2) \\
y_e &= L_1 \cdot \sin(\theta_1) + L_2 \cdot \sin(\theta_1 + \theta_2)
\end{align*}
$$

#### 速度分析

通过对位置公式对时间求导，得到速度公式：

$$
\begin{align*}
\dot{x}_e &= -L_1 \cdot \sin(\theta_1) \cdot \dot{\theta}_1 - L_2 \cdot \sin(\theta_1 + \theta_2) \cdot (\dot{\theta}_1 + \dot{\theta}_2) \\
\dot{y}_e &= L_1 \cdot \cos(\theta_1) \cdot \dot{\theta}_1 + L_2 \cdot \cos(\theta_1 + \theta_2) \cdot (\dot{\theta}_1 + \dot{\theta}_2)
\end{align*}
$$

#### 加速度分析

对速度公式继续对时间求导，得到加速度公式：

$$
\begin{align*}
\ddot{x}_e &= -L_1 \cdot \cos(\theta_1) \cdot \dot{\theta}_1^2 - L_1 \cdot \sin(\theta_1) \cdot \ddot{\theta}_1 \\
&\quad - L_2 \cdot \cos(\theta_1 + \theta_2) \cdot (\dot{\theta}_1 + \dot{\theta}_2)^2 - L_2 \cdot \sin(\theta_1 + \theta_2) \cdot (\ddot{\theta}_1 + \ddot{\theta}_2) \\
\ddot{y}_e &= -L_1 \cdot \sin(\theta_1) \cdot \dot{\theta}_1^2 + L_1 \cdot \cos(\theta_1) \cdot \ddot{\theta}_1 \\
&\quad - L_2 \cdot \sin(\theta_1 + \theta_2) \cdot (\dot{\theta}_1 + \dot{\theta}_2)^2 + L_2 \cdot \cos(\theta_1 + \theta_2) \cdot (\ddot{\theta}_1 + \ddot{\theta}_2)
\end{align*}
$$

#### 刚体动力学分析

应用拉格朗日动力学方法，系统的动能和势能为：

- **动能** $ T $:

$$
T = \frac{1}{2} m_1 (\dot{x}_1^2 + \dot{y}_1^2) + \frac{1}{2} m_2 (\dot{x}_e^2 + \dot{y}_e^2)
$$

- **势能** $ V $:

$$
V = m_1 g y_1 + m_2 g y_e
$$

使用拉格朗日方程：

$$
\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{\theta}_i} \right) - \frac{\partial L}{\partial \theta_i} = \tau_i
$$

其中 $ L = T - V $ 为拉格朗日量，$ \tau_i $ 为关节力矩。

通过这些推导，我们可以得到机器人关节的动力学方程，用于控制和仿真。

## 3
略了

## 4 加餐

### 推导两自由度串联机器人（RP、PR、PP型）的刚体动力学方程

#### 1. RP型机器人（旋转-平移）
##### 系统描述与坐标系建立
- **关节类型**：第一个关节为旋转（R），第二个为平移（P）。
- **坐标系**：
  - 基坐标系 $ \{O_0\} $：原点在底座，$ x_0 $轴水平，$ y_0 $轴垂直。
  - 第一个关节坐标系 $ \{O_1\} $：原点与基座重合，绕$ z_0 $轴旋转$ \theta_1 $。
  - 第二个关节坐标系 $ \{O_2\} $：沿平移方向移动，原点在平移后的位置$ d_2 $处。

##### 位置描述
末端执行器位置：
$$
\begin{align*}
x_e &= d_2 \cos\theta_1 \\
y_e &= d_2 \sin\theta_1
\end{align*}
$$

##### 速度与加速度
- **速度**：
$$
\begin{align*}
\dot{x}_e &= -d_2 \sin\theta_1 \cdot \dot{\theta}_1 + \cos\theta_1 \cdot \dot{d}_2 \\
\dot{y}_e &= d_2 \cos\theta_1 \cdot \dot{\theta}_1 + \sin\theta_1 \cdot \dot{d}_2
\end{align*}
$$
- **加速度**：
$$
\begin{align*}
\ddot{x}_e &= -d_2 \cos\theta_1 \cdot \dot{\theta}_1^2 - 2\dot{d}_2 \sin\theta_1 \cdot \dot{\theta}_1 - d_2 \sin\theta_1 \cdot \ddot{\theta}_1 + \cos\theta_1 \cdot \ddot{d}_2 \\
\ddot{y}_e &= -d_2 \sin\theta_1 \cdot \dot{\theta}_1^2 + 2\dot{d}_2 \cos\theta_1 \cdot \dot{\theta}_1 + d_2 \cos\theta_1 \cdot \ddot{\theta}_1 + \sin\theta_1 \cdot \ddot{d}_2
\end{align*}
$$

##### 刚体动力学方程
- **动能**：
$$
T = \frac{1}{2} m_2 \left( \dot{x}_e^2 + \dot{y}_e^2 \right)
$$
- **势能**（假设竖直平面）：
$$
V = m_2 g d_2 \sin\theta_1
$$
- **拉格朗日方程**：
$$
\begin{cases}
\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{\theta}_1} \right) - \frac{\partial L}{\partial \theta_1} = \tau_1 \\
\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{d}_2} \right) - \frac{\partial L}{\partial d_2} = F_2
\end{cases}
$$
最终形式：
$$
\begin{align*}
(m_2 d_2^2) \ddot{\theta}_1 + 2 m_2 d_2 \dot{d}_2 \dot{\theta}_1 + m_2 g d_2 \cos\theta_1 &= \tau_1 \\
m_2 \ddot{d}_2 - m_2 d_2 \dot{\theta}_1^2 - m_2 g \sin\theta_1 &= F_2
\end{align*}
$$

---

#### 2. PR型机器人（平移-旋转）
##### 系统描述与坐标系建立
- **关节类型**：第一个关节为平移（P），第二个为旋转（R）。
- **坐标系**：
  - 基坐标系 $ \{O_0\} $：原点在底座，$ x_0 $轴水平。
  - 第一个关节坐标系 $ \{O_1\} $：沿平移方向移动$ d_1 $。
  - 第二个关节坐标系 $ \{O_2\} $：绕平移后的关节旋转$ \theta_2 $。

##### 位置描述
末端执行器位置：
$$
\begin{align*}
x_e &= d_1 + L_2 \cos\theta_2 \\
y_e &= L_2 \sin\theta_2
\end{align*}
$$

##### 速度与加速度
- **速度**：
$$
\begin{align*}
\dot{x}_e &= \dot{d}_1 - L_2 \sin\theta_2 \cdot \dot{\theta}_2 \\
\dot{y}_e &= L_2 \cos\theta_2 \cdot \dot{\theta}_2
\end{align*}
$$
- **加速度**：
$$
\begin{align*}
\ddot{x}_e &= \ddot{d}_1 - L_2 \cos\theta_2 \cdot \dot{\theta}_2^2 - L_2 \sin\theta_2 \cdot \ddot{\theta}_2 \\
\ddot{y}_e &= -L_2 \sin\theta_2 \cdot \dot{\theta}_2^2 + L_2 \cos\theta_2 \cdot \ddot{\theta}_2
\end{align*}
$$

##### 刚体动力学方程
- **动能**：
$$
T = \frac{1}{2} m_1 \dot{d}_1^2 + \frac{1}{2} m_2 \left( \dot{x}_e^2 + \dot{y}_e^2 \right)
$$
- **势能**（假设竖直平面）：
$$
V = m_2 g L_2 \sin\theta_2
$$
- **拉格朗日方程**：
$$
\begin{cases}
\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{d}_1} \right) - \frac{\partial L}{\partial d_1} = F_1 \\
\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{\theta}_2} \right) - \frac{\partial L}{\partial \theta_2} = \tau_2
\end{cases}
$$
最终形式：
$$
\begin{align*}
(m_1 + m_2) \ddot{d}_1 - m_2 L_2 \sin\theta_2 \cdot \ddot{\theta}_2 - m_2 L_2 \cos\theta_2 \cdot \dot{\theta}_2^2 &= F_1 \\
m_2 L_2^2 \ddot{\theta}_2 + m_2 L_2 \sin\theta_2 \cdot \ddot{d}_1 + m_2 g L_2 \cos\theta_2 &= \tau_2
\end{align*}
$$

---

#### 3. PP型机器人（平移-平移）
##### 系统描述与坐标系建立
- **关节类型**：两个关节均为平移（P）。
- **坐标系**：
  - 基坐标系 $ \{O_0\} $：原点在底座，$ x_0 $、$ y_0 $轴水平正交。
  - 第一个关节坐标系 $ \{O_1\} $：沿$ x_0 $轴平移$ d_1 $。
  - 第二个关节坐标系 $ \{O_2\} $：沿$ y_1 $轴平移$ d_2 $。

##### 位置描述
末端执行器位置：
$$
\begin{align*}
x_e &= d_1 \\
y_e &= d_2
\end{align*}
$$

##### 速度与加速度
- **速度**：
$$
\begin{align*}
\dot{x}_e &= \dot{d}_1 \\
\dot{y}_e &= \dot{d}_2
\end{align*}
$$
- **加速度**：
$$
\begin{align*}
\ddot{x}_e &= \ddot{d}_1 \\
\ddot{y}_e &= \ddot{d}_2
\end{align*}
$$

##### 刚体动力学方程
- **动能**：
$$
T = \frac{1}{2} m_1 \dot{d}_1^2 + \frac{1}{2} m_2 (\dot{d}_1^2 + \dot{d}_2^2)
$$
- **势能**（假设竖直平面）：
$$
V = m_2 g d_2
$$
- **拉格朗日方程**：
$$
\begin{cases}
\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{d}_1} \right) - \frac{\partial L}{\partial d_1} = F_1 \\
\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{d}_2} \right) - \frac{\partial L}{\partial d_2} = F_2
\end{cases}
$$
最终形式：
$$
\begin{align*}
(m_1 + m_2) \ddot{d}_1 &= F_1 \\
m_2 \ddot{d}_2 + m_2 g &= F_2
\end{align*}
$$

---



### 3. PP型机器人（平移-平移，轴线非正交）
#### 系统描述与坐标系建立
- **关节类型**：两个关节均为平移（P），轴线方向夹角为θ（θ ≠ 90°）。
- **坐标系**：
  - **基坐标系** $ \{O_0\} $：原点在底座，$ x_0 $轴水平，$ y_0 $轴垂直。
  - **第一个关节**：沿$ x_0 $轴平移距离$ d_1 $，坐标系$ \{O_1\} $随$ d_1 $移动。
  - **第二个关节**：沿与$ x_0 $轴夹角为θ的方向平移$ d_2 $，坐标系$ \{O_2\} $随$ d_2 $移动。

#### 位置描述
末端执行器位置由$ d_1 $和$ d_2 $共同决定：
$$
\begin{align*}
x_e &= d_1 + d_2 \cos\theta \\
y_e &= d_2 \sin\theta
\end{align*}
$$

#### 速度与加速度
- **速度**：
$$
\begin{align*}
\dot{x}_e &= \dot{d}_1 + \dot{d}_2 \cos\theta \\
\dot{y}_e &= \dot{d}_2 \sin\theta
\end{align*}
$$
- **加速度**：
$$
\begin{align*}
\ddot{x}_e &= \ddot{d}_1 + \ddot{d}_2 \cos\theta \\
\ddot{y}_e &= \ddot{d}_2 \sin\theta
\end{align*}
$$

#### 刚体动力学方程
假设机器人工作在竖直平面（受重力影响）：
- **动能**：
$$
T = \frac{1}{2} m_1 \dot{d}_1^2 + \frac{1}{2} m_2 \left( \dot{x}_e^2 + \dot{y}_e^2 \right)
$$
展开后：
$$
T = \frac{1}{2} (m_1 + m_2) \dot{d}_1^2 + \frac{1}{2} m_2 \dot{d}_2^2 + m_2 \dot{d}_1 \dot{d}_2 \cos\theta
$$
- **势能**：
$$
V = m_2 g y_e = m_2 g d_2 \sin\theta
$$

通过拉格朗日方程 $ \frac{d}{dt} \left( \frac{\partial L}{\partial \dot{d}_i} \right) - \frac{\partial L}{\partial d_i} = F_i $（$ L = T - V $），得到：
$$
\begin{cases}
(m_1 + m_2) \ddot{d}_1 + m_2 \cos\theta \cdot \ddot{d}_2 = F_1 \\
m_2 \cos\theta \cdot \ddot{d}_1 + m_2 \ddot{d}_2 - m_2 g \sin\theta = F_2
\end{cases}
$$

---

### 关键区别与物理意义
1. **惯性耦合**：
   - 当θ ≠ 90°时，方程中出现耦合项 $ m_2 \cos\theta \cdot \ddot{d}_1 $ 和 $ m_2 \cos\theta \cdot \ddot{d}_2 $，表明两个平移方向的加速度会相互影响。
   - 若θ = 90°，则 $ \cos\theta = 0 $，方程退化为独立运动：
     $$
     \begin{cases}
     (m_1 + m_2) \ddot{d}_1 = F_1 \\
     m_2 \ddot{d}_2 - m_2 g = F_2
     \end{cases}
     $$

2. **重力影响**：
   - 重力仅作用于第二个平移方向的分量 $ m_2 g \sin\theta $。

---

### 应用场景
1. **非正交导轨机器人**：
   - 用于狭小空间或特殊机构中，例如斜轨搬运机器人。
2. **动力学耦合控制**：
   - 需要设计解耦控制器以抵消轴线非正交带来的惯性耦合效应。
3. **能量效率优化**：
   - 分析θ对能量传递的影响，优化轴线夹角以降低功耗。
   - 

---

通过调整θ的值，此模型可灵活描述任意轴线夹角的PP型机器人，为特殊构型机器人的设计与控制提供理论支持。

### 应用领域
1. **RP型**：用于SCARA机器人或升降旋转复合机构，研究动态负载下的稳定性。
2. **PR型**：适用于伸缩臂机器人，分析平移与旋转耦合效应。
3. **PP型**：应用于平面笛卡尔机器人，优化高速运动下的轨迹精度。

